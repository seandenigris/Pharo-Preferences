"
To declare the list of currently loaded packages as Core for this software update:
	self recordCurrent.
"
Class {
	#name : #PharoCorePackages,
	#superclass : #Object,
	#category : 'DeNigrisPreferences-Core'
}

{ #category : #updates }
PharoCorePackages class >> forUpdate20602 [

	#(
		'AST-Core-MarcusDenker.113'
		'AST-Semantic-StephaneDucasse.21'
		'AST-Tests-Core-MarcusDenker.21'
		'AST-Tests-Semantic-StephaneDucasse.5'
		'AndreasProfiler-EstebanLorenzano.5'
		'Announcements-Core-MarcusDenker.37'
		'Announcements-Help-MarcusDenker.5'
		'Announcements-Tests-Core-StephaneDucasse.11'
		'Announcements-View-MarcusDenker.13'
		'AsmJit-Core-CamilloBruni.2'
		'AsmJit-Extension-StephaneDucasse.6'
		'AsmJit-Instructions-CamilloBruni.3'
		'AsmJit-Operands-CamilloBruni.3'
		'AsmJit-StackManagement-CamilloBruni.2'
		'AsmJit-x86-IgorStasenko.3'
		'Balloon-MarcusDenker.91'
		'BalloonTests-MarcusDenker.1'
		'CI-Core-EstebanLorenzano.66'
		'CI-Loader-MarcusDenker.1'
		'CodeImport-MarcusDenker.12'
		'CodeImport-Tests-MarcusDenker.8'
		'Collections-Abstract-MarcusDenker.199'
		'Collections-Arithmetic-StephaneDucasse.6'
		'Collections-Arrayed-EstebanLorenzano.69'
		'Collections-Atomic-MarcusDenker.5'
		'Collections-Native-MarcusDenker.6'
		'Collections-Sequenceable-EstebanLorenzano.130'
		'Collections-Stack-MarcusDenker.7'
		'Collections-Streams-MarcusDenker.131'
		'Collections-Strings-MarcusDenker.240'
		'Collections-Support-MarcusDenker.49'
		'Collections-Text-EstebanLorenzano.82'
		'Collections-Traits-MarcusDenker.13'
		'Collections-Unordered-MarcusDenker.147'
		'Collections-Weak-MarcusDenker.68'
		'CollectionsTests-MarcusDenker.583'
		'Compatibility-MarcusDenker.10'
		'Compiler-EstebanLorenzano.379'
		'CompilerTests-MarcusDenker.131'
		'Compression-MarcusDenker.122'
		'CompressionTests-MarcusDenker.21'
		'ConfigurationCommandLineHandler-Core-MarcusDenker.8'
		'ConfigurationCommandLineHandler-Tests-MarcusDenker.2'
		'Deprecated20-MarcusDenker.32'
		'EmergencyEvaluator-MarcusDenker.28'
		'EventModel-StephaneDucasse.1'
		'FamFam-Icons-EstebanLorenzano.15'
		'FileSystem-AnsiStreams-MarcusDenker.7'
		'FileSystem-Core-MarcusDenker.69'
		'FileSystem-Disk-MarcusDenker.48'
		'FileSystem-Memory-MarcusDenker.20'
		'FileSystem-Tests-AnsiStreams-MarcusDenker.6'
		'FileSystem-Tests-Core-MarcusDenker.39'
		'FileSystem-Tests-Disk-MarcusDenker.13'
		'FileSystem-Tests-Memory-MarcusDenker.4'
		'FileSystem-Zip-EstebanLorenzano.6'
		'Files-EstebanLorenzano.ducasse.294'
		'FreeType-MarcusDenker.612'
		'FreeTypeTests-StephaneDucasse.3'
		'Fuel-EstebanLorenzano.762'
		'FuelCommandLineHandler-EstebanLorenzano.21'
		'FuelSystem-FileRegistry-EstebanLorenzano.3'
		'FuelTests-MaxLeske.311'
		'FuelTools-Debugger-EstebanLorenzano.2'
		'Gofer-Core-MarcusDenker.191'
		'Gofer-Tests-MarcusDenker.157'
		'Graphics-Display Objects-MarcusDenker.104'
		'Graphics-Files-MarcusDenker.39'
		'Graphics-Fonts-MarcusDenker.67'
		'Graphics-Primitives-StephaneDucasse.99'
		'Graphics-Resources-StephaneDucasse.16'
		'Graphics-Tests-StephaneDucasse.30'
		'Graphics-Transformations-StephaneDucasse.7'
		'GroupManager-EstebanLorenzano.39'
		'GroupManagerUI-EstebanLorenzano.14'
		'Growl-MarcusDenker.13'
		'HelpSystem-Core-StephaneDucasse.89'
		'HelpSystem-Tests-StephaneDucasse.19'
		'HistoryCollection-MarcusDenker.16'
		'HudsonBuildTools20-EstebanLorenzano.25'
		'Kernel-MarcusDenker.1346'
		'KernelTests-MarcusDenker.478'
		'KeyChain-MarcusDenker.30'
		'Keymapping-Core-EstebanLorenzano.147'
		'Keymapping-Pragmas-MarcusDenker.39'
		'Keymapping-Settings-MarcusDenker.65'
		'Keymapping-Shortcuts-EstebanLorenzano.65'
		'Keymapping-Tests-MarcusDenker.69'
		'Keymapping-Tools-Spec-MarcusDenker.16'
		'Manifest-Core-MarcusDenker.111'
		'Manifest-CriticBrowser-EstebanLorenzano.64'
		'Manifest-Resources-Tests-EstebanLorenzano.9'
		'Manifest-Tests-MarcusDenker.26'
		'MenuRegistration-EstebanLorenzano.47'
		'Metacello-Base-MarcusDenker.20'
		'Metacello-Core-MarcusDenker.496'
		'Metacello-MC-StephaneDucasse.666'
		'Metacello-Platform.pharo20-MarcusDenker.29'
		'Metacello-ToolBox-MarcusDenker.135'
		'Monticello-MarcusDenker.777'
		'MonticelloConfigurations-StephaneDucasse.61'
		'MonticelloGUI-MarcusDenker.213'
		'MonticelloMocks-EstebanLorenzano.2'
		'Morphic-EstebanLorenzano.1372'
		'MorphicTests-MarcusDenker.67'
		'Multilingual-Encodings-MarcusDenker.39'
		'Multilingual-Languages-MarcusDenker.30'
		'Multilingual-Tests-MarcusDenker.25'
		'Multilingual-TextConversion-MarcusDenker.46'
		'NECompletion-MarcusDenker.101'
		'NOCompletion-MarcusDenker.34'
		'NativeBoost-Core-EstebanLorenzano.116'
		'NativeBoost-Examples-EstebanLorenzano.16'
		'NativeBoost-Mac-IgorStasenko.8'
		'NativeBoost-Pools-IgorStasenko.12'
		'NativeBoost-Unix-IgorStasenko.12'
		'NativeBoost-Win32-EstebanLorenzano.35'
		'Nautilus-MarcusDenker.439'
		'NautilusCommon-MarcusDenker.120'
		'NautilusRefactoring-MarcusDenker.78'
		'Network-Kernel-MarcusDenker.86'
		'Network-MIME-MarcusDenker.52'
		'Network-Mail-StephaneDucasse.14'
		'Network-Protocols-EstebanLorenzano.91'
		'Network-RFC822-StephaneDucasse.4'
		'Network-URI-MarcusDenker.41'
		'Network-UUID-MarcusDenker.22'
		'Network-Url-MarcusDenker.84'
		'NetworkTests-MarcusDenker.79'
		'NewClassOrganizer-MarcusDenker.7'
		'NewList-MarcusDenker.25'
		'NonInteractiveTranscript-MarcusDenker.5'
		'PackageInfo-MarcusDenker.91'
		'Polymorph-EventEnhancements-MarcusDenker.13'
		'Polymorph-Geometry-LaurentLaffont.8'
		'Polymorph-TaskbarIcons-MarcusDenker.12'
		'Polymorph-Tools-Diff-StephaneDucasse.86'
		'Polymorph-Widgets-MarcusDenker.775'
		'RPackage-Core-EstebanLorenzano.214'
		'RPackage-SystemIntegration-EstebanLorenzano.162'
		'RPackage-Tests-MarcusDenker.109'
		'RecentSubmissions-EstebanLorenzano.180'
		'Refactoring-Changes-MarcusDenker.35'
		'Refactoring-Core-MarcusDenker.169'
		'Refactoring-Critics-MarcusDenker.30'
		'Refactoring-Environment-StephaneDucasse.12'
		'Refactoring-Pharo-Platform-EstebanLorenzano.2'
		'Refactoring-Spelling-MarcusDenker.38'
		'Refactoring-Tests-Changes-StephaneDucasse.18'
		'Refactoring-Tests-Core-StephaneDucasse.63'
		'Refactoring-Tests-Critics-MarcusDenker.8'
		'Refactoring-Tests-Environment-StephaneDucasse.5'
		'Regex-Core-MarcusDenker.22'
		'Regex-Help-StephaneDucasse.2'
		'Regex-Tests-Core-StephaneDucasse.3'
		'Ring-Core-Containers-MarcusDenker.19'
		'Ring-Core-Kernel-MarcusDenker.90'
		'Ring-Monticello-StephaneDucasse.12'
		'Ring-Tests-Containers-MarcusDenker.9'
		'Ring-Tests-Kernel-MarcusDenker.44'
		'Ring-Tests-Monticello-MarcusDenker.10'
		'SUnit-Core-MarcusDenker.66'
		'SUnit-Help-MarcusDenker.4'
		'SUnit-Tests-MarcusDenker.21'
		'SUnit-UI-MarcusDenker.60'
		'SUnit-UITesting-MarcusDenker.4'
		'SUnit-Utilities-EstebanLorenzano.10'
		'ScriptLoader20-MarcusDenker.673'
		'Settings-Compiler-StephaneDucasse.3'
		'Settings-Display-MarcusDenker.7'
		'Settings-FreeType-MarcusDenker.9'
		'Settings-Graphics-MarcusDenker.14'
		'Settings-Kernel-StephaneDucasse.3'
		'Settings-Monticello-MarcusDenker.6'
		'Settings-Network-StephaneDucasse.16'
		'Settings-Polymorph-StephaneDucasse.45'
		'Settings-System-MarcusDenker.23'
		'Settings-Tools-StephaneDucasse.39'
		'Shout-StephaneDucasse.158'
		'ShoutTests-MarcusDenker.17'
		'Spec-Bindings-StephaneDucasse.22'
		'Spec-Builder-MarcusDenker.21'
		'Spec-Core-MarcusDenker.88'
		'Spec-Examples-EstebanLorenzano.18'
		'Spec-Layout-MarcusDenker.27'
		'Spec-Tests-EstebanLorenzano.21'
		'Spec-Tools-MarcusDenker.89'
		'Spec-Widgets-MarcusDenker.109'
		'StartupPreferences-MarcusDenker.77'
		'System-Announcements-MarcusDenker.41'
		'System-Applications-MarcusDenker.44'
		'System-Changes-EstebanLorenzano.198'
		'System-Clipboard-StephaneDucasse.23'
		'System-CommandLine-MarcusDenker.79'
		'System-FilePackage-MarcusDenker.72'
		'System-FileRegistry-MarcusDenker.24'
		'System-Finalization-StephaneDucasse.17'
		'System-Hashing-MarcusDenker.20'
		'System-History-MarcusDenker.5'
		'System-Installers-MarcusDenker.26'
		'System-Localization-MarcusDenker.67'
		'System-Object Events-StephaneDucasse.11'
		'System-Platforms-MarcusDenker.27'
		'System-PragmaCollector-MarcusDenker.11'
		'System-Serial Port-MarcusDenker.20'
		'System-Settings-MarcusDenker.271'
		'System-Sound-StephaneDucasse.10'
		'System-Support-EstebanLorenzano.801'
		'System-Text-EstebanLorenzano.216'
		'System-Tools-StephaneDucasse.93'
		'SystemProgress-MarcusDenker.5'
		'Tests-MarcusDenker.522'
		'Text-EstebanLorenzano.52'
		'TextTests-MarcusDenker.3'
		'Tools-MarcusDenker.1059'
		'ToolsTest-MarcusDenker.denker.30'
		'Traits-MarcusDenker.462'
		'Transcript-MarcusDenker.6'
		'UI-MarcusDenker.5'
		'UIManager-MarcusDenker.98'
		'Unicode-Initialization-MarcusDenker.4'
		'UpdateStreamer-Core-MarcusDenker.13'
		'UpdateStreamer-Tests-MarcusDenker.2'
		'Zinc-Character-Encoding-Core-SvenVanCaekenberghe.7'
		'Zinc-Character-Encoding-Tests-SvenVanCaekenberghe.5'
		'Zinc-FileSystem-SvenVanCaekenberghe.9'
		'Zinc-HTTP-SvenVanCaekenberghe.346'
		'Zinc-Patch-HTTPSocket-MarcusDenker.4'
		'Zinc-Resource-Meta-Core-SvenVanCaekenberghe.12'
		'Zinc-Resource-Meta-FileSystem-MarcusDenker.3'
		'Zinc-Resource-Meta-Tests-SvenVanCaekenberghe.8'
		'Zinc-System-Support-MarcusDenker.5'
		'Zinc-Tests-SvenVanCaekenberghe.177'
		'Zinc-Zodiac-EstebanLorenzano.26'
		'Zodiac-Core-SvenVanCaekenberghe.27'
		'Zodiac-Extra-NorbertHartl.6'
		'Zodiac-Tests-SvenVanCaekenberghe.10'
	)
]

{ #category : #'as yet unclassified' }
PharoCorePackages class >> recordCurrent [
	"declare the list of currently loaded packages as Core for this software update"

	| savedPackageNames updateNumber source sortedPackageNames |
	updateNumber := SystemVersion current highestUpdate asString.
	savedPackageNames := MCPackage allInstances asSet select: [ :e | e workingCopy ancestors isEmpty not and: [ (e name beginsWith: 'DeNigrisPreferences') not ] ] thenCollect: [ :e | e workingCopy currentVersionInfo name ].
	sortedPackageNames := savedPackageNames asOrderedCollection sort.
	Halt now.
	source := String streamContents: [ :str |
		str
			nextPutAll: 'forUpdate';
			nextPutAll: updateNumber asString;
			cr;
			cr;
			tab;
			nextPutAll: '#(';
			cr;
			tab;
			tab.
		sortedPackageNames sort
			do: [ :e | str nextPutAll: e surroundedBySingleQuotes ]
			separatedBy: [ str cr; tab; tab ].
		str
			cr;
			tab;
			nextPutAll: ')'. ].
	self class compile: source classified: 'updates'.
]
